---
- name: common tasks | defaults
  hosts: "{{ playbook_hosts | default('localhost') }}"
  become: true
  vars:
    apt_repo_debian_uris:
      - https://deb.debian.org/debian/
      # - https://mirror-cdn.xtom.com/debian/
      # - https://mirrors.tencent.com/debian/
      # - https://mirrors.aliyun.com/debian/
      # - https://cdn-aws.deb.debian.org/debian/

    apt_repo_debian_security_uris:
      - https://deb.debian.org/debian-security/
      # - https://mirror-cdn.xtom.com/debian-security/
      # - https://mirrors.tencent.com/debian-security/
      # - https://mirrors.aliyun.com/debian-security/
      # - https://cdn-aws.deb.debian.org/debian-security/

    apt_repo_debian_backports_enabled: false
    apt_repo_debian_backports_preferences_package: "*"
    apt_repo_debian_backports_preferences_pin_priority: 500

    unattended_upgrade_updates_enabled: false
    unattended_upgrade_backports_enabled: false
    unattended_upgrade_automatic_reboot_enabled: false

    apt_force_ipv4_enabled: true

    tcp_bbr_enabled: false
    custom_sshd_config_enabled: false
    custom_sysctl_conf_enabled: false

  tasks:
    - ansible.builtin.import_role:
        name: common
